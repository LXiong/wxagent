## 微信消息中的多媒体内容处理

多媒体内容，包括emoji表情，动画表情，图片，文件，语音信息。

### emoji表示的处理

目前的测试情况，有些客户端发过来，是标准的emoji，有些不是标准的，而是中文的。
也就是weixin的emoji并不太统一，需要测试出有什么区分，分别处理。
可暂不处理，直接转发。

### 动画表情
有时存储于cdn中，但如果cdnurl值为空，则需要通过wxagent获取动态图片内容，返回客户端。
这一步需要通过wxagent直接拿到图片内容，因为获取的过期需要http cookie。
对于cdnurl值不为空的情况，直接转发url地址，让客户端处理如何显示动态表情图片。

### 图片
存储在wx的私有图片服务器，需要通过wxagent获取动态图片内容，返回客户端。
这一步需要通过wxagent直接拿到图片内容，因为获取的过期需要http cookie。
客户端获得返回的图片内容数据，再处理如何显示图片。

### 文件
有时存储在cdn中，可跳过wxagent客户端直接获取该cdnurl，下载对应文件。
有时cdnurl值为空，则需要通过wxagent获取文件内容，返回客户端。
这里如果文件比较大的话，比较难处理，或许可以借助第三方存储，但又缺少点安全性。

### 语音信息
需要通过wxagent获取语言信息的内容，返回客户端。
wxagent客户端获取到返回的语言信息内容，决定如何播放语音信息。



